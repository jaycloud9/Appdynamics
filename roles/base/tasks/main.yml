---
- name: "Set up Subscription: user"
  shell: "subscription-manager register --username=aphethean@temenos.com --password=mARKETpLACE99 --force"
- name: "Set up Subscription: Attach to pool"
  shell: "subscription-manager attach --pool=8a85f98157d8bf8e0157d8de29362d7a"
- name: "Set up Subscription: Register to OSE repos"
  shell: "subscription-manager repos --enable='rhel-7-server-rpms' --enable='rhel-7-server-extras-rpms' --enable='rhel-7-server-ose-3.3-rpms'"
- name: "Installing Pre-reqs:" 
  yum: name={{ item }} state=latest
  with_items:
    - atomic-openshift-utils
    - deltarpm
    - docker
    - wget
    - git
    - net-tools
    - bind-utils
    - iptables-services
    - bridge-utils
    - bash-completion
    - vim-enhanced
    - mlocate
- name: "Update the system"
  yum: name=* state=latest
